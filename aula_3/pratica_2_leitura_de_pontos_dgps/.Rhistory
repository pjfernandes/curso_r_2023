install.packages(geoR)
install.packages("geoR")
library(geoR)
krige.conv(pontos)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
library(geoR)
library(raster)
library(rgdal)
library(sp)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
krige.conv(pontos)
krige(pontos)
variogram(z~1, pontos)
install.packages("gstat")
library(gstat)
variograma<-variogram(z~1, pontos)
plot(variograma)
fit.variogram(variograma, model=vgm(1, "Sph", 900, 1))
variograma<-variogram(z~1, pontos)
plot(variograma)
fit.variogram(variograma, model=vgm(1, "Sph", 900, 1))
var_fit<-fit.variogram(variograma, model=vgm(1, "Sph", 900, 1))
plot(variograma, var_fi)
plot(variograma, var_fit)
var_fit<-fit.variogram(variograma)
var_fit<-fit.variogram(variograma, model=vgm(1, "Sph"))
plot(variograma, var_fit)
krig<-krige(pontos ~ 1, model=var_fit)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
variograma<-variogram(z~1, pontos)
plot(variograma)
var_fit<-fit.variogram(variograma, model=vgm(1, "Sph"))
plot(variograma, var_fit)
krig<-krige(z ~ 1, pontos, model=var_fit)
as.raster(extent(pontos))
krig<-krige(z ~ 1, pontos, extent(pontos) model=var_fit)
krig<-krige(z ~ 1, pontos, extent(pontos), model=var_fit)
raster(extent(pontos))
raster(extent(pontos), res=1)
r<-raster(extent(pontos), res=1)
krig<-krige(z ~ 1, pontos, r, model=var_fit)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
variograma<-variogram(z~1, pontos)
plot(variograma)
var_fit<-fit.variogram(variograma, model=vgm(1, "Sph"))
plot(variograma, var_fit)
r<-raster(extent(pontos), res=1)
krig<-krige(z ~ 1, pontos, r, model=var_fit)
r
as(r, "SpatialGridDataFrame")
krig<-krige(z ~ 1, pontos, as(r, "SpatialGridDataFrame"), model=var_fit)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
variograma<-variogram(z~1, pontos)
plot(variograma)
var_fit<-fit.variogram(variograma, model=vgm(1, "Sph"))
plot(variograma, var_fit)
r<-raster(extent(pontos), res=10)
krig<-krige(z ~ 1, pontos, as(r, "SpatialGridDataFrame"), model=var_fit)
pontos
pontos<-pontos[c(sample(100), ]
pontos<-pontos[sample(100), ]
variograma<-variogram(z~1, pontos)
plot(variograma)
var_fit<-fit.variogram(variograma, model=vgm(1, "Sph"))
plot(variograma, var_fit)
pontos<-pontos[sample(500), ]
variograma<-variogram(z~1, pontos)
plot(variograma)
var_fit<-fit.variogram(variograma, model=vgm(1, "Sph"))
plot(variograma, var_fit)
var_fit<-fit.variogram(variograma, model=vgm(2, "Sph"))
plot(variograma, var_fit)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph"))
plot(variograma, var_fit)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph", 12))
plot(variograma, var_fit)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph", 1))
plot(variograma, var_fit)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph", 0.5))
plot(variograma, var_fit)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph", 300))
plot(variograma, var_fit)
r<-raster(extent(pontos), res=10)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph"))
plot(variograma, var_fit)
install.packages("gstat")
library(gstat)
library(raster)
library(rgdal)
library(sp)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
pontos<-pontos[sample(500), ]
variograma<-variogram(z~1, pontos)
plot(variograma)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph"))
plot(variograma, var_fit)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
pontos<-pontos[sample(500), ]
variograma<-variogram(z~1, pontos)
plot(variograma)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph"))
plot(variograma, var_fit)
r<-raster(extent(pontos), res=10)
krig<-krige(z ~ 1, pontos, as(r, "SpatialGridDataFrame"), model=var_fit)
plot(krig)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
pontos<-pontos[sample(1000), ]
variograma<-variogram(z~1, pontos)
plot(variograma)
var_fit<-fit.variogram(variograma, model=vgm(0.01, "Sph"))
plot(variograma, var_fit)
r<-raster(extent(pontos), res=0.5)
var_fit<-fit.variogram(variograma, model=vgm(1, "Sph"))
plot(variograma, var_fit)
r<-raster(extent(pontos), res=0.5)
krig<-krige(z ~ 1, pontos, as(r, "SpatialGridDataFrame"), model=var_fit)
install.packages("lawn")
library(lawn)
idw(z~1, pontos, as(r, "SpatialGridDataFrame"))
idw<-idw(z~1, pontos, as(r, "SpatialGridDataFrame"))
plot(idw)
library(gstat)
library(raster)
library(rgdal)
library(sp)
pontos<-read.csv("https://raw.githubusercontent.com/pjfernandes/curso_r/master/aula_4/pratica_2_leitura_de_pontos_dgps/pontos.txt", sep=",", h=T)
head(pontos)
pontos <- pontos[, c("x", "y", "z")]
coordinates(pontos) <-c("x", "y")
r<-raster(extent(pontos), res=0.1)
#krig<-krige(z ~ 1, pontos, as(r, "SpatialGridDataFrame"), model=var_fit)
######
idw<-idw(z~1, pontos, as(r, "SpatialGridDataFrame"))
#####Interpolação
#variograma<-variogram(z~1, pontos)
#plot(variograma)
#var_fit<-fit.variogram(variograma, model=vgm(1, "Sph"))
#plot(variograma, var_fit)
r<-raster(extent(pontos), res=0.5)
idw<-idw(z~1, pontos, as(r, "SpatialGridDataFrame"))
writeRaster(mde, "mde.tif", overwrite=T)
writeRaster(idw, "mde.tif", overwrite=T)
idw
as.raster(idw)
idw
idw$var1.pred
idw$var1.var
idw
names(idw)
as(idw, "SpatialGridDataFrame")
raster(as(idw, "SpatialGridDataFrame"))
idw_mde<-raster(as(idw, "SpatialGridDataFrame"))
writeRaster(idw_mde, "idw_mde.tif", overwrite=T)
plot(idw_mde)
install.packages("rasterVis")
library(rasterVis)
rasterVis::levelplot(idw_mde)
plot(pontos)
plot(pontos)
plot(idw_mde)
